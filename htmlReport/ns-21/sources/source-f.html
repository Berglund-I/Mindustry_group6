


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > LStatements</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">mindustry.logic</a>
</div>

<h1>Coverage Summary for Class: LStatements (mindustry.logic)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">LStatements</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
</tr>
  <tr>
    <td class="name">LStatements$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$ApplyStatusStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/26)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$ClientDataStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/13)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$CommentStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$ControlStatement</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (2/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    17.4%
  </span>
  <span class="absValue">
    (4/23)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$CutsceneStatement</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (2/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    16%
  </span>
  <span class="absValue">
    (4/25)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$DrawFlushStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$DrawStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/114)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$EffectStatement</td>
<td class="coverageStat">
  <span class="percent">
    25%
  </span>
  <span class="absValue">
    (2/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    10.7%
  </span>
  <span class="absValue">
    (3/28)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$EndStatement</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$ExplosionStatement</td>
<td class="coverageStat">
  <span class="percent">
    40%
  </span>
  <span class="absValue">
    (2/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    16.7%
  </span>
  <span class="absValue">
    (3/18)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$FetchStatement</td>
<td class="coverageStat">
  <span class="percent">
    22.2%
  </span>
  <span class="absValue">
    (2/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    13.8%
  </span>
  <span class="absValue">
    (4/29)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$FlushMessageStatement</td>
<td class="coverageStat">
  <span class="percent">
    22.2%
  </span>
  <span class="absValue">
    (2/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    18.2%
  </span>
  <span class="absValue">
    (4/22)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$FormatStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$GetBlockStatement</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (2/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    23.5%
  </span>
  <span class="absValue">
    (4/17)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$GetFlagStatement</td>
<td class="coverageStat">
  <span class="percent">
    40%
  </span>
  <span class="absValue">
    (2/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (3/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$GetLinkStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$InvalidStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$JumpStatement</td>
<td class="coverageStat">
  <span class="percent">
    27.3%
  </span>
  <span class="absValue">
    (3/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    16.1%
  </span>
  <span class="absValue">
    (5/31)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$LocalePrintStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$LookupStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$MakeMarkerStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/19)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$OperationStatement</td>
<td class="coverageStat">
  <span class="percent">
    18.2%
  </span>
  <span class="absValue">
    (2/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    11.1%
  </span>
  <span class="absValue">
    (4/36)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$PackColorStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$PlaySoundStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/31)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$PrintFlushStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$PrintStatement</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    60%
  </span>
  <span class="absValue">
    (3/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$RadarStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/36)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$ReadStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SensorStatement</td>
<td class="coverageStat">
  <span class="percent">
    14.3%
  </span>
  <span class="absValue">
    (2/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    8.6%
  </span>
  <span class="absValue">
    (5/58)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetBlockStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/29)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetFlagStatement</td>
<td class="coverageStat">
  <span class="percent">
    40%
  </span>
  <span class="absValue">
    (2/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    33.3%
  </span>
  <span class="absValue">
    (3/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetMarkerStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/47)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetPropStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/60)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetRateStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetRuleStatement</td>
<td class="coverageStat">
  <span class="percent">
    22.2%
  </span>
  <span class="absValue">
    (2/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    11.4%
  </span>
  <span class="absValue">
    (4/35)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SetStatement</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (4/8)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SpawnUnitStatement</td>
<td class="coverageStat">
  <span class="percent">
    40%
  </span>
  <span class="absValue">
    (2/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    15%
  </span>
  <span class="absValue">
    (3/20)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SpawnWaveStatement</td>
<td class="coverageStat">
  <span class="percent">
    40%
  </span>
  <span class="absValue">
    (2/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    27.3%
  </span>
  <span class="absValue">
    (3/11)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$StopStatement</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$SyncStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$UnitBindStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/24)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$UnitControlStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/25)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$UnitLocateStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/14)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/64)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$UnitRadarStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$WaitStatement</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (2/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    50%
  </span>
  <span class="absValue">
    (3/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$WeatherSenseStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/27)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$WeatherSetStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/26)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">LStatements$WriteStatement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    11.9%
  </span>
  <span class="absValue">
    (41/345)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    6.7%
  </span>
  <span class="absValue">
    (70/1047)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package mindustry.logic;
&nbsp;
&nbsp;import arc.*;
&nbsp;import arc.func.*;
&nbsp;import arc.graphics.*;
&nbsp;import arc.scene.style.*;
&nbsp;import arc.scene.ui.*;
&nbsp;import arc.scene.ui.layout.*;
&nbsp;import arc.struct.*;
&nbsp;import arc.util.*;
&nbsp;import mindustry.*;
&nbsp;import mindustry.annotations.Annotations.*;
&nbsp;import mindustry.ctype.*;
&nbsp;import mindustry.game.*;
&nbsp;import mindustry.gen.*;
&nbsp;import mindustry.graphics.*;
&nbsp;import mindustry.logic.LCanvas.*;
&nbsp;import mindustry.logic.LExecutor.*;
&nbsp;import mindustry.logic.LogicFx.*;
&nbsp;import mindustry.type.*;
&nbsp;import mindustry.ui.*;
&nbsp;import mindustry.world.meta.*;
&nbsp;
&nbsp;import static mindustry.Vars.*;
&nbsp;import static mindustry.logic.LCanvas.*;
&nbsp;import static mindustry.world.blocks.logic.LogicDisplay.*;
&nbsp;
<b class="nc">&nbsp;public class LStatements{</b>
&nbsp;
&nbsp;    //TODO broken
&nbsp;    //@RegisterStatement(&quot;#&quot;)
<b class="nc">&nbsp;    public static class CommentStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String comment = &quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.area(comment, Styles.nodeArea, v -&gt; comment = v).growX().height(90f).padLeft(2).padRight(6).color(table.color);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return null;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;noop&quot;)
<b class="nc">&nbsp;    public static class InvalidStatement extends LStatement{</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new NoopI();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;read&quot;)
<b class="nc">&nbsp;    public static class ReadStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String output = &quot;result&quot;, target = &quot;cell1&quot;, address = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; read &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, output, str -&gt; output = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, target, str -&gt; target = str);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; at &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, address, str -&gt; address = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new ReadI(builder.var(target), builder.var(address), builder.var(output));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.io;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;write&quot;)
<b class="nc">&nbsp;    public static class WriteStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String input = &quot;result&quot;, target = &quot;cell1&quot;, address = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; write &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, input, str -&gt; input = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; to &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, target, str -&gt; target = str);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; at &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, address, str -&gt; address = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new WriteI(builder.var(target), builder.var(address), builder.var(input));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.io;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;draw&quot;)
<b class="nc">&nbsp;    public static class DrawStatement extends LStatement{</b>
<b class="nc">&nbsp;        static final String[] aligns = {&quot;center&quot;, &quot;top&quot;, &quot;bottom&quot;, &quot;left&quot;, &quot;right&quot;, &quot;topLeft&quot;, &quot;topRight&quot;, &quot;bottomLeft&quot;, &quot;bottomRight&quot;};</b>
&nbsp;        //yes, boxing Integer is gross but this is easier to construct and Integers &lt;128 don&#39;t allocate anyway
<b class="nc">&nbsp;        static final ObjectMap&lt;String, Integer&gt; nameToAlign = ObjectMap.of(</b>
<b class="nc">&nbsp;        &quot;center&quot;, Align.center,</b>
<b class="nc">&nbsp;        &quot;top&quot;, Align.top,</b>
<b class="nc">&nbsp;        &quot;bottom&quot;, Align.bottom,</b>
<b class="nc">&nbsp;        &quot;left&quot;, Align.left,</b>
<b class="nc">&nbsp;        &quot;right&quot;, Align.right,</b>
<b class="nc">&nbsp;        &quot;topLeft&quot;, Align.topLeft,</b>
<b class="nc">&nbsp;        &quot;topRight&quot;, Align.topRight,</b>
<b class="nc">&nbsp;        &quot;bottomLeft&quot;, Align.bottomLeft,</b>
<b class="nc">&nbsp;        &quot;bottomRight&quot;, Align.bottomRight</b>
&nbsp;        );
&nbsp;
<b class="nc">&nbsp;        public GraphicsType type = GraphicsType.clear;</b>
<b class="nc">&nbsp;        public String x = &quot;0&quot;, y = &quot;0&quot;, p1 = &quot;0&quot;, p2 = &quot;0&quot;, p3 = &quot;0&quot;, p4 = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.left();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, GraphicsType.all, type, t -&gt; {</b>
<b class="nc">&nbsp;                    type = t;</b>
<b class="nc">&nbsp;                    if(type == GraphicsType.color){</b>
<b class="nc">&nbsp;                        p2 = &quot;255&quot;;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if(type == GraphicsType.image){</b>
<b class="nc">&nbsp;                        p1 = &quot;@copper&quot;;</b>
<b class="nc">&nbsp;                        p2 = &quot;32&quot;;</b>
<b class="nc">&nbsp;                        p3 = &quot;0&quot;;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    if(type == GraphicsType.print){</b>
<b class="nc">&nbsp;                        p1 = &quot;bottomLeft&quot;;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(100, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(90, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            if(type != GraphicsType.stroke){</b>
<b class="nc">&nbsp;                row(table);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            table.table(s -&gt; {</b>
<b class="nc">&nbsp;                s.left();</b>
<b class="nc">&nbsp;                s.setColor(table.color);</b>
&nbsp;
<b class="nc">&nbsp;                switch(type){</b>
&nbsp;                    case clear -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;r&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;g&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;b&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case color -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;r&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;g&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;b&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;a&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case col -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;color&quot;, x, v -&gt; x = v).width(144f);</b>
<b class="nc">&nbsp;                        col(s, x, res -&gt; {</b>
<b class="nc">&nbsp;                            x = &quot;%&quot; + res.toString().substring(0, res.a &gt;= 1f ? 6 : 8);</b>
<b class="nc">&nbsp;                            build(table);</b>
&nbsp;                        });
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case stroke -&gt; {
<b class="nc">&nbsp;                        s.add().width(4);</b>
<b class="nc">&nbsp;                        fields(s, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case line -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;x2&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y2&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case rect, lineRect -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;width&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;height&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case poly, linePoly -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;sides&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;radius&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;rotation&quot;, p3, v -&gt; p3 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case triangle -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;x2&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y2&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;x3&quot;, p3, v -&gt; p3 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y3&quot;, p4, v -&gt; p4 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case image -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;image&quot;, p1, v -&gt; p1 = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;size&quot;, p2, v -&gt; p2 = v);</b>
<b class="nc">&nbsp;                        row(s);</b>
<b class="nc">&nbsp;                        fields(s, &quot;rotation&quot;, p3, v -&gt; p3 = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case print -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
&nbsp;
<b class="nc">&nbsp;                        row(s);</b>
&nbsp;
<b class="nc">&nbsp;                        s.add(&quot;align &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                        s.button(b -&gt; {</b>
<b class="nc">&nbsp;                            b.label(() -&gt; nameToAlign.containsKey(p1) ? p1 : &quot;bottomLeft&quot;);</b>
<b class="nc">&nbsp;                            b.clicked(() -&gt; showSelect(b, aligns, p1, t -&gt; {</b>
<b class="nc">&nbsp;                                p1 = t;</b>
<b class="nc">&nbsp;                            }, 2, cell -&gt; cell.size(165, 50)));</b>
<b class="nc">&nbsp;                        }, Styles.logict, () -&gt; {}).size(165, 40).color(s.color).left().padLeft(2);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case translate, scale -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;x&quot;, x, v -&gt; x = v);</b>
<b class="nc">&nbsp;                        fields(s, &quot;y&quot;, y, v -&gt; y = v);</b>
<b class="nc">&nbsp;                    }</b>
&nbsp;                    case rotate -&gt; {
<b class="nc">&nbsp;                        fields(s, &quot;degrees&quot;, p1, v -&gt; p1 = v);</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;            }).expand().left();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void afterRead(){
&nbsp;            //0 constant alpha for colors is not allowed
<b class="nc">&nbsp;            if(type == GraphicsType.color &amp;&amp; p2.equals(&quot;0&quot;)){</b>
<b class="nc">&nbsp;                p2 = &quot;255&quot;;</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new DrawI((byte)type.ordinal(), builder.var(x), builder.var(y),</b>
<b class="nc">&nbsp;                type == GraphicsType.print ? new LVar(p1, nameToAlign.get(p1, Align.bottomLeft), true) : builder.var(p1), builder.var(p2), builder.var(p3), builder.var(p4));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.io;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;print&quot;)
<b class="fc">&nbsp;    public static class PrintStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String value = &quot;\&quot;frog\&quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, value, str -&gt; value = str).width(0f).growX().padRight(3);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new PrintI(builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.io;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;format&quot;)
<b class="nc">&nbsp;    public static class FormatStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String value = &quot;\&quot;frog\&quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, value, str -&gt; value = str).width(0f).growX().padRight(3);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new FormatI(builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.io;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;drawflush&quot;)
<b class="nc">&nbsp;    public static class DrawFlushStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String target = &quot;display1&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; to &quot;);</b>
<b class="nc">&nbsp;            field(table, target, str -&gt; target = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new DrawFlushI(builder.var(target));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;printflush&quot;)
<b class="nc">&nbsp;    public static class PrintFlushStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String target = &quot;message1&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; to &quot;);</b>
<b class="nc">&nbsp;            field(table, target, str -&gt; target = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new PrintFlushI(builder.var(target));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;getlink&quot;)
<b class="nc">&nbsp;    public static class GetLinkStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String output = &quot;result&quot;, address = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, output, str -&gt; output = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = link# &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, address, str -&gt; address = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new GetLinkI(builder.var(output), builder.var(address));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;control&quot;)
<b class="fc">&nbsp;    public static class ControlStatement extends LStatement{</b>
<b class="fc">&nbsp;        public LAccess type = LAccess.enabled;</b>
<b class="fc">&nbsp;        public String target = &quot;block1&quot;, p1 = &quot;0&quot;, p2 = &quot;0&quot;, p3 = &quot;0&quot;, p4 = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.left();</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; set &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LAccess.controls, type, t -&gt; {</b>
<b class="nc">&nbsp;                    type = t;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(100, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(90, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; of &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, target, v -&gt; target = v);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
&nbsp;            //Q: why don&#39;t you just use arrays for this?
&nbsp;            //A: arrays aren&#39;t as easy to serialize so the code generator doesn&#39;t handle them
<b class="nc">&nbsp;            int c = 0;</b>
<b class="nc">&nbsp;            for(int i = 0; i &lt; type.params.length; i++){</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, type.params[i], i == 0 ? p1 : i == 1 ? p2 : i == 2 ? p3 : p4, i == 0 ? v -&gt; p1 = v : i == 1 ? v -&gt; p2 = v : i == 2 ? v -&gt; p3 = v : v -&gt; p4 = v);</b>
&nbsp;
<b class="nc">&nbsp;                if(++c % 2 == 0) row(table);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new ControlI(type, builder.var(target), builder.var(p1), builder.var(p2), builder.var(p3), builder.var(p4));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;radar&quot;)
<b class="nc">&nbsp;    public static class RadarStatement extends LStatement{</b>
<b class="nc">&nbsp;        public RadarTarget target1 = RadarTarget.enemy, target2 = RadarTarget.any, target3 = RadarTarget.any;</b>
<b class="nc">&nbsp;        public RadarSort sort = RadarSort.distance;</b>
<b class="nc">&nbsp;        public String radar = &quot;turret1&quot;, sortOrder = &quot;1&quot;, output = &quot;result&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.defaults().left();</b>
&nbsp;
<b class="nc">&nbsp;            if(buildFrom()){</b>
<b class="nc">&nbsp;                table.add(&quot; from &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, radar, v -&gt; radar = v);</b>
&nbsp;
<b class="nc">&nbsp;                row(table);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            for(int i = 0; i &lt; 3; i++){</b>
<b class="nc">&nbsp;                int fi = i;</b>
<b class="nc">&nbsp;                Prov&lt;RadarTarget&gt; get = () -&gt; (fi == 0 ? target1 : fi == 1 ? target2 : target3);</b>
&nbsp;
<b class="nc">&nbsp;                table.add(i == 0 ? &quot; target &quot; : &quot; and &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;                table.button(b -&gt; {</b>
<b class="nc">&nbsp;                    b.label(() -&gt; get.get().name());</b>
<b class="nc">&nbsp;                    b.clicked(() -&gt; showSelect(b, RadarTarget.all, get.get(), t -&gt; {</b>
<b class="nc">&nbsp;                        if(fi == 0) target1 = t; else if(fi == 1) target2 = t; else target3 = t;</b>
<b class="nc">&nbsp;                    }, 2, cell -&gt; cell.size(100, 50)));</b>
<b class="nc">&nbsp;                }, Styles.logict, () -&gt; {}).size(90, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;                if(i == 1){</b>
<b class="nc">&nbsp;                    row(table);</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; order &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, sortOrder, v -&gt; sortOrder = v);</b>
&nbsp;
<b class="nc">&nbsp;            table.row();</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; sort &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; sort.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, RadarSort.all, sort, t -&gt; {</b>
<b class="nc">&nbsp;                    sort = t;</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(100, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(90, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; output &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, output, v -&gt; output = v);</b>
&nbsp;        }
&nbsp;
&nbsp;        public boolean buildFrom(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new RadarI(target1, target2, target3, sort, builder.var(radar), builder.var(sortOrder), builder.var(output));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;sensor&quot;)
<b class="fc">&nbsp;    public static class SensorStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String to = &quot;result&quot;;</b>
<b class="fc">&nbsp;        public String from = &quot;block1&quot;, type = &quot;@copper&quot;;</b>
&nbsp;
<b class="fc">&nbsp;        private transient int selected = 0;</b>
&nbsp;        private transient TextField tfield;
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, to, str -&gt; to = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            tfield = field(table, type, str -&gt; type = str).padRight(0f).get();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
&nbsp;                //240
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                    Table[] tables = {</b>
&nbsp;                        //items
&nbsp;                        new Table(i -&gt; {
<b class="nc">&nbsp;                            i.left();</b>
<b class="nc">&nbsp;                            int c = 0;</b>
<b class="nc">&nbsp;                            for(Item item : Vars.content.items()){</b>
<b class="nc">&nbsp;                                if(!item.unlockedNow() || item.hidden) continue;</b>
<b class="nc">&nbsp;                                i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                    stype(&quot;@&quot; + item.name);</b>
<b class="nc">&nbsp;                                    hide.run();</b>
<b class="nc">&nbsp;                                }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                                if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                            }</b>
&nbsp;                        }),
&nbsp;                        //liquids
&nbsp;                        new Table(i -&gt; {
<b class="nc">&nbsp;                            i.left();</b>
<b class="nc">&nbsp;                            int c = 0;</b>
<b class="nc">&nbsp;                            for(Liquid item : Vars.content.liquids()){</b>
<b class="nc">&nbsp;                                if(!item.unlockedNow() || item.hidden) continue;</b>
<b class="nc">&nbsp;                                i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                    stype(&quot;@&quot; + item.name);</b>
<b class="nc">&nbsp;                                    hide.run();</b>
<b class="nc">&nbsp;                                }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                                if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                            }</b>
&nbsp;                        }),
&nbsp;                        //sensors
&nbsp;                        new Table(i -&gt; {
<b class="nc">&nbsp;                            for(LAccess sensor : LAccess.senseable){</b>
<b class="nc">&nbsp;                                i.button(sensor.name(), Styles.flatt, () -&gt; {</b>
<b class="nc">&nbsp;                                    stype(&quot;@&quot; + sensor.name());</b>
<b class="nc">&nbsp;                                    hide.run();</b>
<b class="nc">&nbsp;                                }).size(240f, 40f).self(c -&gt; tooltip(c, sensor)).row();</b>
&nbsp;                            }
&nbsp;                        })
&nbsp;                    };
&nbsp;
<b class="nc">&nbsp;                    Drawable[] icons = {Icon.box, Icon.liquid, Icon.tree};</b>
<b class="nc">&nbsp;                    Stack stack = new Stack(tables[selected]);</b>
<b class="nc">&nbsp;                    ButtonGroup&lt;Button&gt; group = new ButtonGroup&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;                    for(int i = 0; i &lt; tables.length; i++){</b>
<b class="nc">&nbsp;                        int fi = i;</b>
&nbsp;
<b class="nc">&nbsp;                        t.button(icons[i], Styles.squareTogglei, () -&gt; {</b>
<b class="nc">&nbsp;                            selected = fi;</b>
&nbsp;
<b class="nc">&nbsp;                            stack.clearChildren();</b>
<b class="nc">&nbsp;                            stack.addChild(tables[selected]);</b>
&nbsp;
<b class="nc">&nbsp;                            t.parent.parent.pack();</b>
<b class="nc">&nbsp;                            t.parent.parent.invalidateHierarchy();</b>
<b class="nc">&nbsp;                        }).height(50f).growX().checked(selected == fi).group(group);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    t.row();</b>
<b class="nc">&nbsp;                    t.add(stack).colspan(3).width(240f).left();</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40f).padLeft(-1).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; in &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, from, str -&gt; from = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        private void stype(String text){
<b class="nc">&nbsp;            tfield.setText(text);</b>
<b class="nc">&nbsp;            this.type = text;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SenseI(builder.var(from), builder.var(to), builder.var(type));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.block;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;set&quot;)
<b class="fc">&nbsp;    public static class SetStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String to = &quot;result&quot;;</b>
<b class="fc">&nbsp;        public String from = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, to, str -&gt; to = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, from, str -&gt; from = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SetI(builder.var(from), builder.var(to));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.operation;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;op&quot;)
<b class="fc">&nbsp;    public static class OperationStatement extends LStatement{</b>
<b class="fc">&nbsp;        public LogicOp op = LogicOp.add;</b>
<b class="fc">&nbsp;        public String dest = &quot;result&quot;, a = &quot;a&quot;, b = &quot;b&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            field(table, dest, str -&gt; dest = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            if(op.unary){</b>
<b class="nc">&nbsp;                opButton(table, table);</b>
&nbsp;
<b class="nc">&nbsp;                field(table, a, str -&gt; a = str);</b>
&nbsp;            }else{
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
&nbsp;                //&quot;function&quot;-type operations have the name at the left and arguments on the right
<b class="nc">&nbsp;                if(op.func){</b>
<b class="nc">&nbsp;                    if(LCanvas.useRows()){</b>
<b class="nc">&nbsp;                        table.left();</b>
<b class="nc">&nbsp;                        table.row();</b>
<b class="nc">&nbsp;                        table.table(c -&gt; {</b>
<b class="nc">&nbsp;                            c.color.set(category().color);</b>
<b class="nc">&nbsp;                            c.left();</b>
<b class="nc">&nbsp;                            funcs(c, table);</b>
<b class="nc">&nbsp;                        }).colspan(2).left();</b>
&nbsp;                    }else{
<b class="nc">&nbsp;                        funcs(table, table);</b>
&nbsp;                    }
&nbsp;                }else{
<b class="nc">&nbsp;                    field(table, a, str -&gt; a = str);</b>
&nbsp;
<b class="nc">&nbsp;                    opButton(table, table);</b>
&nbsp;
<b class="nc">&nbsp;                    field(table, b, str -&gt; b = str);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        void funcs(Table table, Table parent){
<b class="nc">&nbsp;            opButton(table, parent);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, a, str -&gt; a = str);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, b, str -&gt; b = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        void opButton(Table table, Table parent){
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; op.symbol);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LogicOp.all, op, o -&gt; {</b>
<b class="nc">&nbsp;                    op = o;</b>
<b class="nc">&nbsp;                    rebuild(parent);</b>
<b class="nc">&nbsp;                }, 4, c -&gt; c.width(64f)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(64f, 40f).pad(4f).color(table.color);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new OpI(op,builder.var(a), builder.var(b), builder.var(dest));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.operation;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;wait&quot;)
<b class="fc">&nbsp;    public static class WaitStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String value = &quot;0.5&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, value, str -&gt; value = str);</b>
<b class="nc">&nbsp;            table.add(&quot; sec&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new WaitI(builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.control;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;stop&quot;)
<b class="fc">&nbsp;    public static class StopStatement extends LStatement{</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new StopI();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.control;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;lookup&quot;)
<b class="nc">&nbsp;    public static class LookupStatement extends LStatement{</b>
<b class="nc">&nbsp;        public ContentType type = ContentType.item;</b>
<b class="nc">&nbsp;        public String result = &quot;result&quot;, id = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, result, str -&gt; result = str).width(120f);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = lookup &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, GlobalVars.lookableContent, type, o -&gt; {</b>
<b class="nc">&nbsp;                    type = o;</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(64f, 40f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; # &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, id, str -&gt; id = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new LookupI(builder.var(result), builder.var(id), type);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.operation;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;packcolor&quot;)
<b class="nc">&nbsp;    public static class PackColorStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String result = &quot;result&quot;, r = &quot;1&quot;, g = &quot;0&quot;, b = &quot;0&quot;, a = &quot;1&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, result, str -&gt; result = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = pack &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, r, str -&gt; r = str);</b>
<b class="nc">&nbsp;            fields(table, g, str -&gt; g = str);</b>
<b class="nc">&nbsp;            fields(table, b, str -&gt; b = str);</b>
<b class="nc">&nbsp;            fields(table, a, str -&gt; a = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new PackColorI(builder.var(result), builder.var(r), builder.var(g), builder.var(b), builder.var(a));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.operation;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;end&quot;)
<b class="fc">&nbsp;    public static class EndStatement extends LStatement{</b>
&nbsp;        @Override
&nbsp;        public void build(Table table){
&nbsp;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new EndI();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.control;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;jump&quot;)
<b class="fc">&nbsp;    public static class JumpStatement extends LStatement{</b>
<b class="fc">&nbsp;        private static Color last = new Color();</b>
&nbsp;
&nbsp;        public transient StatementElem dest;
&nbsp;
&nbsp;        public int destIndex;
&nbsp;
<b class="fc">&nbsp;        public ConditionOp op = ConditionOp.notEqual;</b>
<b class="fc">&nbsp;        public String value = &quot;x&quot;, compare = &quot;false&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot;if &quot;).padLeft(4);</b>
&nbsp;
<b class="nc">&nbsp;            last = table.color;</b>
<b class="nc">&nbsp;            table.table(this::rebuild);</b>
&nbsp;
<b class="nc">&nbsp;            table.add().growX();</b>
<b class="nc">&nbsp;            table.add(new JumpButton(() -&gt; dest, s -&gt; dest = s)).size(30).right().padLeft(-8);</b>
&nbsp;
<b class="nc">&nbsp;            String name = name();</b>
&nbsp;
&nbsp;            //hack way of finding the title label...
<b class="nc">&nbsp;            Core.app.post(() -&gt; {</b>
&nbsp;                //must be delayed because parent is added later
<b class="nc">&nbsp;                if(table.parent != null){</b>
<b class="nc">&nbsp;                    Label title = table.parent.find(&quot;statement-name&quot;);</b>
<b class="nc">&nbsp;                    if(title != null){</b>
<b class="nc">&nbsp;                        title.update(() -&gt; title.setText((dest != null ? name + &quot; -&gt; &quot; + dest.index : name)));</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            });
&nbsp;
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
<b class="nc">&nbsp;            table.setColor(last);</b>
&nbsp;
<b class="nc">&nbsp;            if(op != ConditionOp.always) field(table, value, str -&gt; value = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; op.symbol);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, ConditionOp.all, op, o -&gt; {</b>
<b class="nc">&nbsp;                    op = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(op == ConditionOp.always ? 80f : 48f, 40f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            if(op != ConditionOp.always) field(table, compare, str -&gt; compare = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        //elements need separate conversion logic
&nbsp;        @Override
&nbsp;        public void setupUI(){
<b class="nc">&nbsp;            if(elem != null &amp;&amp; destIndex &gt;= 0 &amp;&amp; destIndex &lt; elem.parent.getChildren().size){</b>
<b class="nc">&nbsp;                dest = (StatementElem)elem.parent.getChildren().get(destIndex);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public void saveUI(){
<b class="nc">&nbsp;            if(elem != null){</b>
<b class="nc">&nbsp;                destIndex = dest == null ? -1 : dest.parent.getChildren().indexOf(dest);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new JumpI(op, builder.var(value), builder.var(compare), destIndex);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.control;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;ubind&quot;)
<b class="nc">&nbsp;    public static class UnitBindStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String type = &quot;@poly&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; type &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            TextField field = field(table, type, str -&gt; type = str).get();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                    t.row();</b>
<b class="nc">&nbsp;                    t.table(i -&gt; {</b>
<b class="nc">&nbsp;                        i.left();</b>
<b class="nc">&nbsp;                        int c = 0;</b>
<b class="nc">&nbsp;                        for(UnitType item : Vars.content.units()){</b>
<b class="nc">&nbsp;                            if(!item.unlockedNow() || item.isHidden() || !item.logicControllable) continue;</b>
<b class="nc">&nbsp;                            i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                type = &quot;@&quot; + item.name;</b>
<b class="nc">&nbsp;                                field.setText(type);</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                            if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                        }</b>
<b class="nc">&nbsp;                    }).colspan(3).width(240f).left();</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40f).padLeft(-2).color(table.color);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new UnitBindI(builder.var(type));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.unit;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;ucontrol&quot;)
<b class="nc">&nbsp;    public static class UnitControlStatement extends LStatement{</b>
<b class="nc">&nbsp;        public LUnitControl type = LUnitControl.move;</b>
<b class="nc">&nbsp;        public String p1 = &quot;0&quot;, p2 = &quot;0&quot;, p3 = &quot;0&quot;, p4 = &quot;0&quot;, p5 = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.left();</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LUnitControl.all, type, t -&gt; {</b>
<b class="nc">&nbsp;                    if(t == LUnitControl.build &amp;&amp; !Vars.state.rules.logicUnitBuild){</b>
<b class="nc">&nbsp;                        Vars.ui.showInfo(&quot;@logic.nounitbuild&quot;);</b>
&nbsp;                    }else{
<b class="nc">&nbsp;                        type = t;</b>
&nbsp;                    }
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(120, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(120, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
&nbsp;            //Q: why don&#39;t you just use arrays for this?
&nbsp;            //A: arrays aren&#39;t as easy to serialize so the code generator doesn&#39;t handle them
<b class="nc">&nbsp;            int c = 0;</b>
<b class="nc">&nbsp;            for(int i = 0; i &lt; type.params.length; i++){</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, type.params[i], i == 0 ? p1 : i == 1 ? p2 : i == 2 ? p3 : i == 3 ? p4 : p5, i == 0 ? v -&gt; p1 = v : i == 1 ? v -&gt; p2 = v : i == 2 ? v -&gt; p3 = v : i == 3 ? v -&gt; p4 = v : v -&gt; p5 = v).width(100f);</b>
&nbsp;
<b class="nc">&nbsp;                if(++c % 2 == 0) row(table);</b>
&nbsp;
<b class="nc">&nbsp;                if(i == 3){</b>
<b class="nc">&nbsp;                    table.row();</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new UnitControlI(type, builder.var(p1), builder.var(p2), builder.var(p3), builder.var(p4), builder.var(p5));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.unit;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;uradar&quot;)
&nbsp;    public static class UnitRadarStatement extends RadarStatement{
&nbsp;
<b class="nc">&nbsp;        public UnitRadarStatement(){</b>
<b class="nc">&nbsp;            radar = &quot;0&quot;;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean buildFrom(){
&nbsp;            //do not build the &quot;from&quot; section
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new RadarI(target1, target2, target3, sort, builder.var(&quot;@unit&quot;), builder.var(sortOrder), builder.var(output));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.unit;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;ulocate&quot;)
<b class="nc">&nbsp;    public static class UnitLocateStatement extends LStatement{</b>
<b class="nc">&nbsp;        public LLocate locate = LLocate.building;</b>
<b class="nc">&nbsp;        public BlockFlag flag = BlockFlag.core;</b>
<b class="nc">&nbsp;        public String enemy = &quot;true&quot;, ore = &quot;@copper&quot;;</b>
<b class="nc">&nbsp;        public String outX = &quot;outx&quot;, outY = &quot;outy&quot;, outFound = &quot;found&quot;, outBuild = &quot;building&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; find &quot;).left().self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; locate.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LLocate.all, locate, t -&gt; {</b>
<b class="nc">&nbsp;                    locate = t;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(110, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(110, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            switch(locate){</b>
&nbsp;                case building -&gt; {
<b class="nc">&nbsp;                    row(table);</b>
<b class="nc">&nbsp;                    table.add(&quot; group &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;                    table.button(b -&gt; {</b>
<b class="nc">&nbsp;                        b.label(() -&gt; flag.name());</b>
<b class="nc">&nbsp;                        b.clicked(() -&gt; showSelect(b, BlockFlag.allLogic, flag, t -&gt; flag = t, 2, cell -&gt; cell.size(110, 50)));</b>
<b class="nc">&nbsp;                    }, Styles.logict, () -&gt; {}).size(110, 40).color(table.color).left().padLeft(2);</b>
<b class="nc">&nbsp;                    row(table);</b>
&nbsp;
<b class="nc">&nbsp;                    table.add(&quot; enemy &quot;).left().self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;                    fields(table, enemy, str -&gt; enemy = str);</b>
&nbsp;
<b class="nc">&nbsp;                    table.row();</b>
<b class="nc">&nbsp;                }</b>
&nbsp;
&nbsp;                case ore -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; ore &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;                    table.table(ts -&gt; {</b>
<b class="nc">&nbsp;                        ts.color.set(table.color);</b>
&nbsp;
<b class="nc">&nbsp;                        fields(ts, ore, str -&gt; ore = str);</b>
&nbsp;
<b class="nc">&nbsp;                        ts.button(b -&gt; {</b>
<b class="nc">&nbsp;                            b.image(Icon.pencilSmall);</b>
<b class="nc">&nbsp;                            b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                                t.row();</b>
<b class="nc">&nbsp;                                t.table(i -&gt; {</b>
<b class="nc">&nbsp;                                    i.left();</b>
<b class="nc">&nbsp;                                    int c = 0;</b>
<b class="nc">&nbsp;                                    for(Item item : Vars.content.items()){</b>
<b class="nc">&nbsp;                                        if(!item.unlockedNow()) continue;</b>
<b class="nc">&nbsp;                                        i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                            ore = &quot;@&quot; + item.name;</b>
<b class="nc">&nbsp;                                            rebuild(table);</b>
<b class="nc">&nbsp;                                            hide.run();</b>
<b class="nc">&nbsp;                                        }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                                        if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                                    }</b>
<b class="nc">&nbsp;                                }).colspan(3).width(240f).left();</b>
&nbsp;                            }));
<b class="nc">&nbsp;                        }, Styles.logict, () -&gt; {}).size(40f).padLeft(-2).color(table.color);</b>
&nbsp;                    });
&nbsp;
&nbsp;
<b class="nc">&nbsp;                    table.row();</b>
<b class="nc">&nbsp;                }</b>
&nbsp;
&nbsp;                case spawn, damaged -&gt; {
<b class="nc">&nbsp;                    table.row();</b>
&nbsp;                }
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; outX &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;            fields(table, outX, str -&gt; outX = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; outY &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;            fields(table, outY, str -&gt; outY = str);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; found &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;            fields(table, outFound, str -&gt; outFound = str);</b>
&nbsp;
<b class="nc">&nbsp;            if(locate != LLocate.ore){</b>
<b class="nc">&nbsp;                table.add(&quot; building &quot;).left().self(this::param);</b>
<b class="nc">&nbsp;                fields(table, outBuild, str -&gt; outBuild = str);</b>
&nbsp;            }
&nbsp;
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new UnitLocateI(locate, flag, builder.var(enemy), builder.var(ore), builder.var(outX), builder.var(outY), builder.var(outFound), builder.var(outBuild));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.unit;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;getblock&quot;)
<b class="fc">&nbsp;    public static class GetBlockStatement extends LStatement{</b>
<b class="fc">&nbsp;        public TileLayer layer = TileLayer.block;</b>
<b class="fc">&nbsp;        public String result = &quot;result&quot;, x = &quot;0&quot;, y = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, result, str -&gt; result = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = get &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; layer.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, TileLayer.all, layer, o -&gt; layer = o));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(64f, 40f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; at &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, x, str -&gt; x = str);</b>
<b class="nc">&nbsp;            table.add(&quot;, &quot;);</b>
<b class="nc">&nbsp;            fields(table, y, str -&gt; y = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new GetBlockI(builder.var(x), builder.var(y), builder.var(result), layer);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setblock&quot;)
<b class="nc">&nbsp;    public static class SetBlockStatement extends LStatement{</b>
<b class="nc">&nbsp;        public TileLayer layer = TileLayer.block;</b>
<b class="nc">&nbsp;        public String block = &quot;@air&quot;, x = &quot;0&quot;, y = &quot;0&quot;, team = &quot;@derelict&quot;, rotation = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
<b class="nc">&nbsp;            table.add(&quot;set&quot;);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; layer.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, TileLayer.settable, layer, o -&gt; {</b>
<b class="nc">&nbsp;                    layer = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(64f, 40f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; at &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, x, str -&gt; x = str);</b>
<b class="nc">&nbsp;            table.add(&quot;, &quot;);</b>
<b class="nc">&nbsp;            fields(table, y, str -&gt; y = str);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; to &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, block, str -&gt; block = str);</b>
&nbsp;
<b class="nc">&nbsp;            if(layer == TileLayer.block){</b>
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
<b class="nc">&nbsp;                table.add(&quot;team &quot;);</b>
<b class="nc">&nbsp;                fields(table, team, str -&gt; team = str);</b>
&nbsp;
<b class="nc">&nbsp;                table.add(&quot; rotation &quot;);</b>
<b class="nc">&nbsp;                fields(table, rotation, str -&gt; rotation = str);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SetBlockI(builder.var(x), builder.var(y), builder.var(block), builder.var(team), builder.var(rotation), layer);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;spawn&quot;)
<b class="fc">&nbsp;    public static class SpawnUnitStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String type = &quot;@dagger&quot;, x = &quot;10&quot;, y = &quot;10&quot;, rotation = &quot;90&quot;, team = &quot;@sharded&quot;, result = &quot;result&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, result, str -&gt; result = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = spawn &quot;);</b>
<b class="nc">&nbsp;            field(table, type, str -&gt; type = str).colspan(!LCanvas.useRows() ? 1 : 2);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; at &quot;);</b>
<b class="nc">&nbsp;            fields(table, x, str -&gt; x = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot;, &quot;);</b>
<b class="nc">&nbsp;            fields(table, y, str -&gt; y = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.row();</b>
&nbsp;
<b class="nc">&nbsp;            if(!LCanvas.useRows()){</b>
<b class="nc">&nbsp;                table.add();</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            table.add(&quot;team &quot;);</b>
<b class="nc">&nbsp;            field(table, team, str -&gt; team = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; rot &quot;);</b>
<b class="nc">&nbsp;            fields(table, rotation, str -&gt; rotation = str).left();</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SpawnUnitI(builder.var(type), builder.var(x), builder.var(y), builder.var(rotation), builder.var(team), builder.var(result));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;status&quot;)
<b class="nc">&nbsp;    public static class ApplyStatusStatement extends LStatement{</b>
&nbsp;        public boolean clear;
<b class="nc">&nbsp;        public String effect = &quot;wet&quot;, unit = &quot;unit&quot;, duration = &quot;10&quot;;</b>
&nbsp;
&nbsp;        private static @Nullable String[] statusNames;
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(clear ? &quot;clear&quot; : &quot;apply&quot;, Styles.logict, () -&gt; {</b>
<b class="nc">&nbsp;                clear = !clear;</b>
<b class="nc">&nbsp;                rebuild(table);</b>
<b class="nc">&nbsp;            }).size(80f, 40f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            if(statusNames == null){</b>
<b class="nc">&nbsp;                statusNames = content.statusEffects().select(s -&gt; !s.isHidden()).map(s -&gt; s.name).toArray(String.class);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; effect).grow().wrap().labelAlign(Align.center).center();</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, statusNames, effect, o -&gt; {</b>
<b class="nc">&nbsp;                    effect = o;</b>
<b class="nc">&nbsp;                }, 2, c -&gt; c.size(120f, 38f)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(120f, 40f).pad(4f).color(table.color);</b>
&nbsp;
&nbsp;            //TODO effect select
&nbsp;
<b class="nc">&nbsp;            table.add(clear ? &quot; from &quot; : &quot; to &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, unit, str -&gt; unit = str);</b>
&nbsp;
<b class="nc">&nbsp;            if(!clear &amp;&amp; !(content.statusEffect(effect) != null &amp;&amp; content.statusEffect(effect).permanent)){</b>
&nbsp;
<b class="nc">&nbsp;                table.add(&quot; for &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, duration, str -&gt; duration = str);</b>
&nbsp;
<b class="nc">&nbsp;                table.add(&quot; sec&quot;);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new ApplyEffectI(clear, effect, builder.var(unit), builder.var(duration));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;weathersense&quot;)
<b class="nc">&nbsp;    public static class WeatherSenseStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String to = &quot;result&quot;;</b>
<b class="nc">&nbsp;        public String weather = &quot;@rain&quot;;</b>
&nbsp;
&nbsp;        private transient TextField tfield;
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, to, str -&gt; to = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = weather &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            tfield = field(table, weather, str -&gt; weather = str).padRight(0f).get();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
&nbsp;
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                    t.row();</b>
<b class="nc">&nbsp;                    t.table(i -&gt; {</b>
<b class="nc">&nbsp;                        i.left();</b>
<b class="nc">&nbsp;                        int c = 0;</b>
<b class="nc">&nbsp;                        for(Weather w : Vars.content.weathers()){</b>
<b class="nc">&nbsp;                            i.button(w.name, Styles.flatt, () -&gt; {</b>
<b class="nc">&nbsp;                                weather = &quot;@&quot; + w.name;</b>
<b class="nc">&nbsp;                                tfield.setText(weather);</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).height(40f).uniformX().wrapLabel(false).growX();</b>
&nbsp;
<b class="nc">&nbsp;                            if(++c % 2 == 0) i.row();</b>
<b class="nc">&nbsp;                        }</b>
<b class="nc">&nbsp;                    }).left();</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40f).padLeft(-1).color(table.color);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SenseWeatherI(builder.var(weather), builder.var(to));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;weatherset&quot;)
<b class="nc">&nbsp;    public static class WeatherSetStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String weather = &quot;@rain&quot;, state = &quot;true&quot;;</b>
&nbsp;
&nbsp;        private transient TextField tfield;
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; set weather &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            tfield = field(table, weather, str -&gt; weather = str).padRight(0f).get();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
&nbsp;
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                    t.row();</b>
<b class="nc">&nbsp;                    t.table(i -&gt; {</b>
<b class="nc">&nbsp;                        i.left();</b>
<b class="nc">&nbsp;                        int c = 0;</b>
<b class="nc">&nbsp;                        for(Weather w : Vars.content.weathers()){</b>
<b class="nc">&nbsp;                            i.button(w.name, Styles.flatt, () -&gt; {</b>
<b class="nc">&nbsp;                                weather = &quot;@&quot; + w.name;</b>
<b class="nc">&nbsp;                                tfield.setText(weather);</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).height(40f).uniformX().wrapLabel(false).growX();</b>
&nbsp;
<b class="nc">&nbsp;                            if(++c % 2 == 0) i.row();</b>
<b class="nc">&nbsp;                        }</b>
<b class="nc">&nbsp;                    }).left();</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40f).padLeft(-1).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; state &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, state, str -&gt; state = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SetWeatherI(builder.var(weather), builder.var(state));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;spawnwave&quot;)
<b class="fc">&nbsp;    public static class SpawnWaveStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String x = &quot;10&quot;, y = &quot;10&quot;, natural = &quot;false&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot;natural &quot;);</b>
<b class="nc">&nbsp;            fields(table, natural, str -&gt; natural = str);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot;x &quot;).visible(() -&gt; natural.equals(&quot;false&quot;));</b>
<b class="nc">&nbsp;            fields(table, x, str -&gt; x = str).visible(() -&gt; natural.equals(&quot;false&quot;));</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; y &quot;).visible(() -&gt; natural.equals(&quot;false&quot;));</b>
<b class="nc">&nbsp;            fields(table, y, str -&gt; y = str).visible(() -&gt; natural.equals(&quot;false&quot;));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SpawnWaveI(builder.var(natural), builder.var(x), builder.var(y));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setrule&quot;)
<b class="fc">&nbsp;    public static class SetRuleStatement extends LStatement{</b>
<b class="fc">&nbsp;        public LogicRule rule = LogicRule.waveSpacing;</b>
<b class="fc">&nbsp;        public String value = &quot;10&quot;, p1 = &quot;0&quot;, p2 = &quot;0&quot;, p3 = &quot;100&quot;, p4 = &quot;100&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; rule.name()).growX().wrap().labelAlign(Align.center);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LogicRule.all, rule, o -&gt; {</b>
<b class="nc">&nbsp;                    rule = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, c -&gt; c.width(150f)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(160f, 40f).margin(5f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            switch(rule){</b>
&nbsp;                case mapArea -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                    fields(table, &quot;x&quot;, p1, s -&gt; p1 = s);</b>
<b class="nc">&nbsp;                    fields(table, &quot;y&quot;, p2, s -&gt; p2 = s);</b>
<b class="nc">&nbsp;                    row(table);</b>
<b class="nc">&nbsp;                    fields(table, &quot;w&quot;, p3, s -&gt; p3 = s);</b>
<b class="nc">&nbsp;                    fields(table, &quot;h&quot;, p4, s -&gt; p4 = s);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;                case buildSpeed, unitHealth, unitBuildSpeed, unitCost, unitDamage, blockHealth, blockDamage, rtsMinSquad, rtsMinWeight -&gt; {
<b class="nc">&nbsp;                    if(p1.equals(&quot;0&quot;)){</b>
<b class="nc">&nbsp;                        p1 = &quot;@sharded&quot;;</b>
&nbsp;                    }
&nbsp;
<b class="nc">&nbsp;                    fields(table, &quot;of&quot;, p1, s -&gt; p1 = s);</b>
<b class="nc">&nbsp;                    table.add(&quot; = &quot;);</b>
<b class="nc">&nbsp;                    row(table);</b>
<b class="nc">&nbsp;                    field(table, value, s -&gt; value = s);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;                case ban, unban -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; block/unit &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                    field(table, value, s -&gt; value = s);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;                default -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                    field(table, value, s -&gt; value = s);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SetRuleI(rule, builder.var(value), builder.var(p1), builder.var(p2), builder.var(p3), builder.var(p4));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;message&quot;)
<b class="fc">&nbsp;    public static class FlushMessageStatement extends LStatement{</b>
<b class="fc">&nbsp;        public MessageType type = MessageType.announce;</b>
<b class="fc">&nbsp;        public String duration = &quot;3&quot;, outSuccess = &quot;@wait&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name()).growX().wrap().labelAlign(Align.center);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, MessageType.all, type, o -&gt; {</b>
<b class="nc">&nbsp;                    type = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, c -&gt; c.width(150f)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(160f, 40f).padLeft(2).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            switch(type){</b>
&nbsp;                case announce, toast  -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; for &quot;);</b>
<b class="nc">&nbsp;                    fields(table, duration, str -&gt; duration = str);</b>
<b class="nc">&nbsp;                    table.add(&quot; sec &quot;);</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; success &quot;);</b>
<b class="nc">&nbsp;            fields(table, outSuccess, str -&gt; outSuccess = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new FlushMessageI(type, builder.var(duration), builder.var(outSuccess));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;cutscene&quot;)
<b class="fc">&nbsp;    public static class CutsceneStatement extends LStatement{</b>
<b class="fc">&nbsp;        public CutsceneAction action = CutsceneAction.pan;</b>
<b class="fc">&nbsp;        public String p1 = &quot;100&quot;, p2 = &quot;100&quot;, p3 = &quot;0.06&quot;, p4 = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; action.name()).growX().wrap().labelAlign(Align.center);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, CutsceneAction.all, action, o -&gt; {</b>
<b class="nc">&nbsp;                    action = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(90f, 40f).padLeft(2).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            switch(action){</b>
&nbsp;                case pan -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; x &quot;);</b>
<b class="nc">&nbsp;                    fields(table, p1, str -&gt; p1 = str);</b>
<b class="nc">&nbsp;                    table.add(&quot; y &quot;);</b>
<b class="nc">&nbsp;                    fields(table, p2, str -&gt; p2 = str);</b>
&nbsp;
<b class="nc">&nbsp;                    row(table);</b>
&nbsp;
<b class="nc">&nbsp;                    table.add(&quot; speed &quot;);</b>
<b class="nc">&nbsp;                    fields(table, p3, str -&gt; p3 = str);</b>
<b class="nc">&nbsp;                }</b>
&nbsp;                case zoom -&gt; {
<b class="nc">&nbsp;                    table.add(&quot; level &quot;);</b>
<b class="nc">&nbsp;                    fields(table, p1, str -&gt; p1 = str);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new CutsceneI(action, builder.var(p1), builder.var(p2), builder.var(p3), builder.var(p4));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;effect&quot;)
<b class="fc">&nbsp;    public static class EffectStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String type = &quot;warn&quot;, x = &quot;0&quot;, y = &quot;0&quot;, sizerot = &quot;2&quot;, color = &quot;%ffaaff&quot;, data = &quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type).growX().wrap().labelAlign(Align.center);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; ui.effects.show(entry -&gt; {</b>
<b class="nc">&nbsp;                    type = entry.name;</b>
<b class="nc">&nbsp;                    build(table);</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(150f, 40f).margin(5f).pad(4f).color(table.color).colspan(2);</b>
&nbsp;
<b class="nc">&nbsp;            EffectEntry entry = LogicFx.get(type);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, &quot;x&quot;, x, str -&gt; x = str);</b>
<b class="nc">&nbsp;            fields(table, &quot;y&quot;, y, str -&gt; y = str);</b>
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            if(entry != null){</b>
<b class="nc">&nbsp;                if(entry.color){</b>
<b class="nc">&nbsp;                    fields(table, &quot;color&quot;, color, str -&gt; color = str).width(120f);</b>
&nbsp;
<b class="nc">&nbsp;                    col(table, color, res -&gt; {</b>
<b class="nc">&nbsp;                        color = &quot;%&quot; + res.toString().substring(0, res.a &gt;= 1f ? 6 : 8);</b>
<b class="nc">&nbsp;                        build(table);</b>
&nbsp;                    });
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
<b class="nc">&nbsp;                if(entry.size || entry.rotate){</b>
<b class="nc">&nbsp;                    fields(table, entry.size ? &quot;size&quot; : &quot;rotation&quot;, sizerot, str -&gt; sizerot = str);</b>
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                if(entry.data != null){</b>
<b class="nc">&nbsp;                    fields(table, &quot;data&quot;, data, str -&gt; data = str);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler b){
<b class="fc">&nbsp;            return new EffectI(LogicFx.get(type), b.var(x), b.var(y), b.var(sizerot), b.var(color), b.var(data));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;explosion&quot;)
<b class="fc">&nbsp;    public static class ExplosionStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String team = &quot;@crux&quot;, x = &quot;0&quot;, y = &quot;0&quot;, radius = &quot;5&quot;, damage = &quot;50&quot;, air = &quot;true&quot;, ground = &quot;true&quot;, pierce = &quot;false&quot;, effect = &quot;true&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, &quot;team&quot;, team, str -&gt; team = str);</b>
<b class="nc">&nbsp;            fields(table, &quot;x&quot;, x, str -&gt; x = str);</b>
<b class="nc">&nbsp;            row(table);</b>
<b class="nc">&nbsp;            fields(table, &quot;y&quot;, y, str -&gt; y = str);</b>
<b class="nc">&nbsp;            fields(table, &quot;radius&quot;, radius, str -&gt; radius = str);</b>
<b class="nc">&nbsp;            table.row();</b>
<b class="nc">&nbsp;            fields(table, &quot;damage&quot;, damage, str -&gt; damage = str);</b>
<b class="nc">&nbsp;            fields(table, &quot;air&quot;, air, str -&gt; air = str);</b>
<b class="nc">&nbsp;            row(table);</b>
<b class="nc">&nbsp;            fields(table, &quot;ground&quot;, ground, str -&gt; ground = str);</b>
<b class="nc">&nbsp;            fields(table, &quot;pierce&quot;, pierce, str -&gt; pierce = str);</b>
<b class="nc">&nbsp;            table.row();</b>
<b class="nc">&nbsp;            fields(table, &quot;effect&quot;, effect, str -&gt; effect = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler b){
<b class="fc">&nbsp;            return new ExplosionI(b.var(team), b.var(x), b.var(y), b.var(radius), b.var(damage), b.var(air), b.var(ground), b.var(pierce), b.var(effect));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setrate&quot;)
<b class="nc">&nbsp;    public static class SetRateStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String amount = &quot;10&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, &quot;ipt = &quot;, amount, str -&gt; amount = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SetRateI(builder.var(amount));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;fetch&quot;)
<b class="fc">&nbsp;    public static class FetchStatement extends LStatement{</b>
<b class="fc">&nbsp;        public FetchType type = FetchType.unit;</b>
<b class="fc">&nbsp;        public String result = &quot;result&quot;, team = &quot;@sharded&quot;, index = &quot;0&quot;, extra = &quot;@conveyor&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, result, r -&gt; result = r);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name()).growX().wrap().labelAlign(Align.center);</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, FetchType.all, type, o -&gt; {</b>
<b class="nc">&nbsp;                    type = o;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, c -&gt; c.width(150f)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(160f, 40f).margin(5f).pad(4f).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, &quot;team&quot;, team, s -&gt; team = s);</b>
&nbsp;
<b class="nc">&nbsp;            if(type != FetchType.coreCount &amp;&amp; type != FetchType.playerCount &amp;&amp; type != FetchType.unitCount &amp;&amp; type != FetchType.buildCount){</b>
<b class="nc">&nbsp;                table.add(&quot; # &quot;);</b>
&nbsp;
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, index, i -&gt; index = i);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if(type == FetchType.buildCount || type == FetchType.build){</b>
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, &quot;block&quot;, extra, i -&gt; extra = i);</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            if(type == FetchType.unitCount || type == FetchType.unit){</b>
<b class="nc">&nbsp;                row(table);</b>
&nbsp;
<b class="nc">&nbsp;                fields(table, &quot;unit&quot;, extra, i -&gt; extra = i);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new FetchI(type, builder.var(result), builder.var(team), builder.var(extra), builder.var(index));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    //TODO: test this first
&nbsp;    @RegisterStatement(&quot;sync&quot;)
<b class="nc">&nbsp;    public static class SyncStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String variable = &quot;var&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            fields(table, variable, str -&gt; variable = str).width(190f);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SyncI(builder.var(variable));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;clientdata&quot;)
<b class="nc">&nbsp;    public static class ClientDataStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String channel = &quot;\&quot;frog\&quot;&quot;, value = &quot;\&quot;bar\&quot;&quot;, reliable = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot;send &quot;);</b>
<b class="nc">&nbsp;            fields(table, value, str -&gt; value = str);</b>
<b class="nc">&nbsp;            table.add(&quot; on &quot;);</b>
<b class="nc">&nbsp;            fields(table, channel, str -&gt; channel = str);</b>
<b class="nc">&nbsp;            table.add(&quot;, reliable &quot;);</b>
<b class="nc">&nbsp;            fields(table, reliable, str -&gt; reliable = str);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean hidden(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            if(!state.rules.allowLogicData) return null;</b>
<b class="nc">&nbsp;            return new ClientDataI(builder.var(channel), builder.var(value), builder.var(reliable));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;getflag&quot;)
<b class="fc">&nbsp;    public static class GetFlagStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String result = &quot;result&quot;, flag = &quot;\&quot;flag\&quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            float width = LCanvas.useRows() ? 100f : 190f;</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, result, str -&gt; result = str).width(width);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = flag &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, flag, str -&gt; flag = str).width(width);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new GetFlagI(builder.var(result), builder.var(flag));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setflag&quot;)
<b class="fc">&nbsp;    public static class SetFlagStatement extends LStatement{</b>
<b class="fc">&nbsp;        public String flag = &quot;\&quot;flag\&quot;&quot;, value = &quot;true&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            float width = LCanvas.useRows() ? 100f : 190f;</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, flag, str -&gt; flag = str).width(width);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; = &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            fields(table, value, str -&gt; value = str).width(width);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="fc">&nbsp;            return new SetFlagI(builder.var(flag), builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setprop&quot;)
<b class="nc">&nbsp;    public static class SetPropStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String type = &quot;@copper&quot;, of = &quot;block1&quot;, value = &quot;0&quot;;</b>
&nbsp;
<b class="nc">&nbsp;        private transient int selected = 0;</b>
&nbsp;        private transient TextField tfield;
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.add(&quot; set &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            tfield = field(table, type, str -&gt; type = str).padRight(0f).get();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
&nbsp;                //240
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelectTable(b, (t, hide) -&gt; {</b>
<b class="nc">&nbsp;                    Table[] tables = {</b>
&nbsp;                    //items
&nbsp;                    new Table(i -&gt; {
<b class="nc">&nbsp;                        i.left();</b>
<b class="nc">&nbsp;                        int c = 0;</b>
<b class="nc">&nbsp;                        for(Item item : Vars.content.items()){</b>
<b class="nc">&nbsp;                            if(item.hidden) continue;</b>
<b class="nc">&nbsp;                            i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                stype(&quot;@&quot; + item.name);</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                            if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                        }</b>
&nbsp;                    }),
&nbsp;                    //liquids
&nbsp;                    new Table(i -&gt; {
<b class="nc">&nbsp;                        i.left();</b>
<b class="nc">&nbsp;                        int c = 0;</b>
<b class="nc">&nbsp;                        for(Liquid item : Vars.content.liquids()){</b>
<b class="nc">&nbsp;                            if(!item.unlockedNow() || item.hidden) continue;</b>
<b class="nc">&nbsp;                            i.button(new TextureRegionDrawable(item.uiIcon), Styles.flati, iconSmall, () -&gt; {</b>
<b class="nc">&nbsp;                                stype(&quot;@&quot; + item.name);</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).size(40f);</b>
&nbsp;
<b class="nc">&nbsp;                            if(++c % 6 == 0) i.row();</b>
<b class="nc">&nbsp;                        }</b>
&nbsp;                    }),
&nbsp;                    //sensors
&nbsp;                    new Table(i -&gt; {
<b class="nc">&nbsp;                        for(LAccess property : LAccess.settable){</b>
<b class="nc">&nbsp;                            i.button(property.name(), Styles.flatt, () -&gt; {</b>
<b class="nc">&nbsp;                                stype(&quot;@&quot; + property.name());</b>
<b class="nc">&nbsp;                                hide.run();</b>
<b class="nc">&nbsp;                            }).size(240f, 40f).self(c -&gt; tooltip(c, property)).row();</b>
&nbsp;                        }
&nbsp;                    })
&nbsp;                    };
&nbsp;
<b class="nc">&nbsp;                    Drawable[] icons = {Icon.box, Icon.liquid, Icon.tree};</b>
<b class="nc">&nbsp;                    Stack stack = new Stack(tables[selected]);</b>
<b class="nc">&nbsp;                    ButtonGroup&lt;Button&gt; group = new ButtonGroup&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;                    for(int i = 0; i &lt; tables.length; i++){</b>
<b class="nc">&nbsp;                        int fi = i;</b>
&nbsp;
<b class="nc">&nbsp;                        t.button(icons[i], Styles.squareTogglei, () -&gt; {</b>
<b class="nc">&nbsp;                            selected = fi;</b>
&nbsp;
<b class="nc">&nbsp;                            stack.clearChildren();</b>
<b class="nc">&nbsp;                            stack.addChild(tables[selected]);</b>
&nbsp;
<b class="nc">&nbsp;                            t.parent.parent.pack();</b>
<b class="nc">&nbsp;                            t.parent.parent.invalidateHierarchy();</b>
<b class="nc">&nbsp;                        }).height(50f).growX().checked(selected == fi).group(group);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    t.row();</b>
<b class="nc">&nbsp;                    t.add(stack).colspan(3).width(240f).left();</b>
&nbsp;                }));
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40f).padLeft(-1).color(table.color);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; of &quot;).self(this::param);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, of, str -&gt; of = str).colspan(2);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot; to &quot;);</b>
&nbsp;
<b class="nc">&nbsp;            field(table, value, str -&gt; value = str).colspan(2);</b>
&nbsp;        }
&nbsp;
&nbsp;        private void stype(String text){
<b class="nc">&nbsp;            tfield.setText(text);</b>
<b class="nc">&nbsp;            this.type = text;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SetPropI(builder.var(type), builder.var(of), builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;    
&nbsp;    @RegisterStatement(&quot;playsound&quot;)
<b class="nc">&nbsp;    public static class PlaySoundStatement extends LStatement{</b>
&nbsp;        public boolean positional;
<b class="nc">&nbsp;        public String id = &quot;@sfx-pew&quot;, volume = &quot;1&quot;, pitch = &quot;1&quot;, pan = &quot;0&quot;, x = &quot;@thisx&quot;, y = &quot;@thisy&quot;, limit = &quot;true&quot;;</b>
&nbsp;        
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;        
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;            
<b class="nc">&nbsp;            table.button(positional ? &quot;positional&quot; : &quot;global&quot;, Styles.logict, () -&gt; {</b>
<b class="nc">&nbsp;                positional = !positional;</b>
<b class="nc">&nbsp;                rebuild(table);</b>
<b class="nc">&nbsp;            }).size(160f, 40f).pad(4f).color(table.color);</b>
&nbsp;            
<b class="nc">&nbsp;            row(table);</b>
&nbsp;            
<b class="nc">&nbsp;            field(table, id, str -&gt; id = str).padRight(0f).get();</b>
&nbsp;            
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.image(Icon.pencilSmall);</b>
&nbsp;                
<b class="nc">&nbsp;                String soundName = id.startsWith(&quot;@sfx-&quot;) ? id.substring(5) : id;</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, GlobalVars.soundNames.toArray(String.class), soundName, t -&gt; {</b>
<b class="nc">&nbsp;                    id = &quot;@sfx-&quot; + t;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(160, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(40).color(table.color).left().padLeft(-1);</b>
&nbsp;            
<b class="nc">&nbsp;            row(table);</b>
&nbsp;            
<b class="nc">&nbsp;            fieldst(table, &quot;volume&quot;, volume, str -&gt; volume = str);</b>
<b class="nc">&nbsp;            fieldst(table, &quot;pitch&quot;, pitch, str -&gt; pitch = str);</b>
&nbsp;            
<b class="nc">&nbsp;            table.row();</b>
&nbsp;            
<b class="nc">&nbsp;            if(positional){</b>
<b class="nc">&nbsp;                fieldst(table, &quot;x&quot;, x, str -&gt; x = str);</b>
&nbsp;                
<b class="nc">&nbsp;                fieldst(table, &quot;y&quot;, y, str -&gt; y = str);</b>
&nbsp;            }else{
<b class="nc">&nbsp;                fieldst(table, &quot;pan&quot;, pan, str -&gt; pan = str);</b>
&nbsp;            }
&nbsp;            
<b class="nc">&nbsp;            table.row();</b>
&nbsp;            
<b class="nc">&nbsp;            fieldst(table, &quot;limit&quot;, limit, str -&gt; limit = str);</b>
&nbsp;        }
&nbsp;        
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;        
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new PlaySoundI(positional, builder.var(id), builder.var(volume), builder.var(pitch), builder.var(pan), builder.var(x), builder.var(y), builder.var(limit));</b>
&nbsp;        }
&nbsp;        
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;setmarker&quot;)
<b class="nc">&nbsp;    public static class SetMarkerStatement extends LStatement{</b>
<b class="nc">&nbsp;        public LMarkerControl type = LMarkerControl.pos;</b>
<b class="nc">&nbsp;        public String id = &quot;0&quot;, p1 = &quot;0&quot;, p2 = &quot;0&quot;, p3 = &quot;0&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            rebuild(table);</b>
&nbsp;        }
&nbsp;
&nbsp;        void rebuild(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.add(&quot;set&quot;);</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type.name());</b>
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, LMarkerControl.all, type, t -&gt; {</b>
<b class="nc">&nbsp;                    type = t;</b>
<b class="nc">&nbsp;                    rebuild(table);</b>
<b class="nc">&nbsp;                }, 3, cell -&gt; cell.size(140, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(190, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fieldst(table, &quot;of id#&quot;, id, str -&gt; id = str);</b>
&nbsp;
&nbsp;            //Q: why don&#39;t you just use arrays for this?
&nbsp;            //A: arrays aren&#39;t as easy to serialize so the code generator doesn&#39;t handle them
<b class="nc">&nbsp;            for(int f = 0; f &lt; type.params.length; f++){</b>
<b class="nc">&nbsp;                int i = f;</b>
&nbsp;
<b class="nc">&nbsp;                table.table(t -&gt; {</b>
<b class="nc">&nbsp;                    t.setColor(table.color);</b>
&nbsp;
<b class="nc">&nbsp;                    String value = i == 0 ? p1 : i == 1 ? p2 : p3;</b>
<b class="nc">&nbsp;                    Cons&lt;String&gt; setter = i == 0 ? v -&gt; p1 = v : i == 1 ? v -&gt; p2 = v : v -&gt; p3 = v;</b>
&nbsp;
<b class="nc">&nbsp;                    fields(t, type.params[i], value, setter).width(100f);</b>
&nbsp;
<b class="nc">&nbsp;                    if(type == LMarkerControl.color || (type == LMarkerControl.colori &amp;&amp; i == 1)){</b>
<b class="nc">&nbsp;                        col(t, value, res -&gt; {</b>
<b class="nc">&nbsp;                            setter.get(&quot;%&quot; + res.toString().substring(0, res.a &gt;= 1f ? 6 : 8));</b>
<b class="nc">&nbsp;                            build(table);</b>
&nbsp;                        });
<b class="nc">&nbsp;                    }else if(type == LMarkerControl.drawLayer){</b>
<b class="nc">&nbsp;                        t.button(b -&gt; {</b>
<b class="nc">&nbsp;                            b.image(Icon.pencilSmall);</b>
<b class="nc">&nbsp;                            b.clicked(() -&gt; showSelectTable(b, (o, hide) -&gt; {</b>
<b class="nc">&nbsp;                                o.row();</b>
<b class="nc">&nbsp;                                o.table(s -&gt; {</b>
<b class="nc">&nbsp;                                    s.left();</b>
<b class="nc">&nbsp;                                    for(var field : Layer.class.getFields()){</b>
<b class="nc">&nbsp;                                        float layer = Reflect.get(field);</b>
<b class="nc">&nbsp;                                        s.button(field.getName() + &quot; = &quot; + layer, Styles.logicTogglet, () -&gt; {</b>
<b class="nc">&nbsp;                                            p1 = Float.toString(layer);</b>
<b class="nc">&nbsp;                                            rebuild(table);</b>
<b class="nc">&nbsp;                                            hide.run();</b>
<b class="nc">&nbsp;                                        }).size(240f, 40f).row();</b>
&nbsp;                                    }
<b class="nc">&nbsp;                                }).width(240f).left();</b>
&nbsp;                            }));
<b class="nc">&nbsp;                        }, Styles.logict, () -&gt; {}).size(40f).padLeft(-11).color(table.color);</b>
&nbsp;                    }
&nbsp;                });
&nbsp;
<b class="nc">&nbsp;                if(i == 0) row(table);</b>
<b class="nc">&nbsp;                if(i == 2) table.row();</b>
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new SetMarkerI(type, builder.var(id), builder.var(p1), builder.var(p2), builder.var(p3));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;makemarker&quot;)
<b class="nc">&nbsp;    public static class MakeMarkerStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String type = &quot;shape&quot;, id = &quot;0&quot;, x = &quot;0&quot;, y = &quot;0&quot;, replace = &quot;true&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            table.clearChildren();</b>
&nbsp;
<b class="nc">&nbsp;            table.button(b -&gt; {</b>
<b class="nc">&nbsp;                b.label(() -&gt; type);</b>
&nbsp;
<b class="nc">&nbsp;                b.clicked(() -&gt; showSelect(b, MapObjectives.allMarkerTypeNames.toArray(String.class), type, t -&gt; {</b>
<b class="nc">&nbsp;                    type = t;</b>
<b class="nc">&nbsp;                    build(table);</b>
<b class="nc">&nbsp;                }, 2, cell -&gt; cell.size(160, 50)));</b>
<b class="nc">&nbsp;            }, Styles.logict, () -&gt; {}).size(190, 40).color(table.color).left().padLeft(2);</b>
&nbsp;
<b class="nc">&nbsp;            fieldst(table, &quot;id&quot;, id, str -&gt; id = str);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fieldst(table, &quot;x&quot;, x, v -&gt; x = v);</b>
&nbsp;
<b class="nc">&nbsp;            fieldst(table, &quot;y&quot;, y, v -&gt; y = v);</b>
&nbsp;
<b class="nc">&nbsp;            row(table);</b>
&nbsp;
<b class="nc">&nbsp;            fieldst(table, &quot;replace&quot;, replace, v -&gt; replace = v);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new MakeMarkerI(type, builder.var(id), builder.var(x), builder.var(y), builder.var(replace));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    @RegisterStatement(&quot;localeprint&quot;)
<b class="nc">&nbsp;    public static class LocalePrintStatement extends LStatement{</b>
<b class="nc">&nbsp;        public String value = &quot;\&quot;name\&quot;&quot;;</b>
&nbsp;
&nbsp;        @Override
&nbsp;        public void build(Table table){
<b class="nc">&nbsp;            field(table, value, str -&gt; value = str).width(0f).growX().padRight(3);</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public boolean privileged(){
<b class="nc">&nbsp;            return true;</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LInstruction build(LAssembler builder){
<b class="nc">&nbsp;            return new LocalePrintI(builder.var(value));</b>
&nbsp;        }
&nbsp;
&nbsp;        @Override
&nbsp;        public LCategory category(){
<b class="nc">&nbsp;            return LCategory.world;</b>
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-10-10 13:22</div>
</div>
</body>
</html>
