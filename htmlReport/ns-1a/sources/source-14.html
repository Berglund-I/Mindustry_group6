


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > Waves</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">mindustry.game</a>
</div>

<h1>Coverage Summary for Class: Waves (mindustry.game)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Waves</td>
<td class="coverageStat">
  <span class="percent">
    28.6%
  </span>
  <span class="absValue">
    (2/7)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    6.6%
  </span>
  <span class="absValue">
    (4/61)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Waves$1</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$10</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$11</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$12</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$13</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$14</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$15</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$16</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$17</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$18</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (9/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$19</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$2</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$20</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$21</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$22</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$23</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$24</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$25</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$26</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$27</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$28</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$29</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$3</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$30</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$31</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$32</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$33</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$34</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$35</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$4</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$5</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$6</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$7</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (7/7)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$8</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (6/6)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Waves$9</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    71.4%
  </span>
  <span class="absValue">
    (30/42)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    60.9%
  </span>
  <span class="absValue">
    (181/297)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package mindustry.game;
&nbsp;
&nbsp;import arc.func.*;
&nbsp;import arc.math.*;
&nbsp;import arc.struct.*;
&nbsp;import arc.util.*;
&nbsp;import mindustry.content.*;
&nbsp;import mindustry.type.*;
&nbsp;
&nbsp;import static mindustry.content.UnitTypes.*;
&nbsp;
<b class="fc">&nbsp;public class Waves{</b>
&nbsp;    public static final int waveVersion = 7;
&nbsp;
&nbsp;    private Seq&lt;SpawnGroup&gt; spawns;
&nbsp;
&nbsp;    public Seq&lt;SpawnGroup&gt; get(){
<b class="fc">&nbsp;        if(spawns == null &amp;&amp; dagger != null){</b>
<b class="fc">&nbsp;            spawns = Seq.with(</b>
<b class="fc">&nbsp;            new SpawnGroup(dagger){{</b>
<b class="fc">&nbsp;                end = 10;</b>
<b class="fc">&nbsp;                unitScaling = 2f;</b>
<b class="fc">&nbsp;                max = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(crawler){{</b>
<b class="fc">&nbsp;                begin = 4;</b>
<b class="fc">&nbsp;                end = 13;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                unitScaling = 1.5f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(flare){{</b>
<b class="fc">&nbsp;                begin = 12;</b>
<b class="fc">&nbsp;                end = 16;</b>
<b class="fc">&nbsp;                unitScaling = 1f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(dagger){{</b>
<b class="fc">&nbsp;                begin = 11;</b>
<b class="fc">&nbsp;                unitScaling = 1.7f;</b>
<b class="fc">&nbsp;                spacing = 2;</b>
<b class="fc">&nbsp;                max = 4;</b>
<b class="fc">&nbsp;                shieldScaling = 25f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(pulsar){{</b>
<b class="fc">&nbsp;                begin = 13;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitScaling = 0.5f;</b>
<b class="fc">&nbsp;                max = 25;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(mace){{</b>
<b class="fc">&nbsp;                begin = 7;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitScaling = 2;</b>
&nbsp;
<b class="fc">&nbsp;                end = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(dagger){{</b>
<b class="fc">&nbsp;                begin = 12;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                spacing = 2;</b>
<b class="fc">&nbsp;                shieldScaling = 20f;</b>
<b class="fc">&nbsp;                max = 14;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(mace){{</b>
<b class="fc">&nbsp;                begin = 28;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                end = 40;</b>
<b class="fc">&nbsp;                shieldScaling = 20f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(spiroct){{</b>
<b class="fc">&nbsp;                begin = 45;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                max = 10;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
<b class="fc">&nbsp;                shields = 100;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(pulsar){{</b>
<b class="fc">&nbsp;                begin = 120;</b>
<b class="fc">&nbsp;                spacing = 2;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                unitAmount = 5;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(flare){{</b>
<b class="fc">&nbsp;                begin = 16;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 2;</b>
<b class="fc">&nbsp;                shieldScaling = 20f;</b>
<b class="fc">&nbsp;                max = 20;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(quasar){{</b>
<b class="fc">&nbsp;                begin = 82;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(pulsar){{</b>
<b class="fc">&nbsp;                begin = 41;</b>
<b class="fc">&nbsp;                spacing = 5;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                shields = 640f;</b>
<b class="fc">&nbsp;                max = 25;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(fortress){{</b>
<b class="fc">&nbsp;                begin = 40;</b>
<b class="fc">&nbsp;                spacing = 5;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                unitScaling = 2;</b>
<b class="fc">&nbsp;                max = 20;</b>
<b class="fc">&nbsp;                shieldScaling = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(nova){{</b>
<b class="fc">&nbsp;                begin = 35;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
<b class="fc">&nbsp;                items = new ItemStack(Items.blastCompound, 60);</b>
<b class="fc">&nbsp;                end = 60;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(dagger){{</b>
<b class="fc">&nbsp;                begin = 42;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
<b class="fc">&nbsp;                items = new ItemStack(Items.pyratite, 100);</b>
<b class="fc">&nbsp;                end = 130;</b>
<b class="fc">&nbsp;                max = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(horizon){{</b>
<b class="fc">&nbsp;                begin = 40;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                spacing = 2;</b>
<b class="fc">&nbsp;                unitScaling = 2;</b>
<b class="fc">&nbsp;                shieldScaling = 20;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(flare){{</b>
<b class="fc">&nbsp;                begin = 50;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                spacing = 5;</b>
<b class="fc">&nbsp;                shields = 100f;</b>
<b class="fc">&nbsp;                shieldScaling = 10f;</b>
<b class="fc">&nbsp;                effect = StatusEffects.overdrive;</b>
<b class="fc">&nbsp;                max = 20;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(zenith){{</b>
<b class="fc">&nbsp;                begin = 50;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                spacing = 5;</b>
<b class="fc">&nbsp;                max = 16;</b>
<b class="fc">&nbsp;                shieldScaling = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(nova){{</b>
<b class="fc">&nbsp;                begin = 53;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                spacing = 4;</b>
<b class="fc">&nbsp;                shieldScaling = 30;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(atrax){{</b>
<b class="fc">&nbsp;                begin = 31;</b>
<b class="fc">&nbsp;                unitAmount = 4;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 3;</b>
<b class="fc">&nbsp;                shieldScaling = 10f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(scepter){{</b>
<b class="fc">&nbsp;                begin = 41;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 30;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(reign){{</b>
<b class="fc">&nbsp;                begin = 81;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 40;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(antumbra){{</b>
<b class="fc">&nbsp;                begin = 120;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 40;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(vela){{</b>
<b class="fc">&nbsp;                begin = 100;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 30;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(corvus){{</b>
<b class="fc">&nbsp;                begin = 145;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 35;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
<b class="fc">&nbsp;                shields = 100;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(horizon){{</b>
<b class="fc">&nbsp;                begin = 90;</b>
<b class="fc">&nbsp;                unitAmount = 2;</b>
<b class="fc">&nbsp;                unitScaling = 3;</b>
<b class="fc">&nbsp;                spacing = 4;</b>
<b class="fc">&nbsp;                shields = 40f;</b>
<b class="fc">&nbsp;                shieldScaling = 30f;</b>
&nbsp;            }},
&nbsp;
<b class="fc">&nbsp;            new SpawnGroup(toxopid){{</b>
<b class="fc">&nbsp;                begin = 210;</b>
<b class="fc">&nbsp;                unitAmount = 1;</b>
<b class="fc">&nbsp;                unitScaling = 1;</b>
<b class="fc">&nbsp;                spacing = 35;</b>
<b class="fc">&nbsp;                shields = 1000;</b>
<b class="fc">&nbsp;                shieldScaling = 35f;</b>
&nbsp;            }}
&nbsp;            );
&nbsp;        }
<b class="fc">&nbsp;        return spawns == null ? new Seq&lt;&gt;() : spawns;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Seq&lt;SpawnGroup&gt; generate(float difficulty){
&nbsp;        //apply power curve to make starting sectors easier
<b class="nc">&nbsp;        return generate(Mathf.pow(difficulty, 1.12f), new Rand(), false);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Seq&lt;SpawnGroup&gt; generate(float difficulty, Rand rand, boolean attack){
<b class="nc">&nbsp;        return generate(difficulty, rand, attack, false);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Seq&lt;SpawnGroup&gt; generate(float difficulty, Rand rand, boolean attack, boolean airOnly){
<b class="nc">&nbsp;        return generate(difficulty, rand, attack, airOnly, false);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static Seq&lt;SpawnGroup&gt; generate(float difficulty, Rand rand, boolean attack, boolean airOnly, boolean naval){
<b class="nc">&nbsp;        UnitType[][] species = {</b>
&nbsp;        {dagger, mace, fortress, scepter, reign},
&nbsp;        {nova, pulsar, quasar, vela, corvus},
&nbsp;        {crawler, atrax, spiroct, arkyid, toxopid},
&nbsp;        {risso, minke, bryde, sei, omura},
&nbsp;        {risso, oxynoe, cyerce, aegires, navanax}, //retusa intentionally left out as it cannot damage the core properly
<b class="nc">&nbsp;        {flare, horizon, zenith, rand.chance(0.5) ? quad : antumbra, rand.chance(0.1) ? quad : eclipse}</b>
&nbsp;        };
&nbsp;
<b class="nc">&nbsp;        if(airOnly){</b>
<b class="nc">&nbsp;            species = Structs.filter(UnitType[].class, species, v -&gt; v[0].flying);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if(naval){</b>
<b class="nc">&nbsp;            species = Structs.filter(UnitType[].class, species, v -&gt; v[0].flying || v[0].naval);</b>
&nbsp;        }else{
<b class="nc">&nbsp;            species = Structs.filter(UnitType[].class, species, v -&gt; !v[0].naval);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        UnitType[][] fspec = species;</b>
&nbsp;
&nbsp;        //required progression:
&nbsp;        //- extra periodic patterns
&nbsp;
<b class="nc">&nbsp;        Seq&lt;SpawnGroup&gt; out = new Seq&lt;&gt;();</b>
&nbsp;
&nbsp;        //max reasonable wave, after which everything gets boring
<b class="nc">&nbsp;        int cap = 150;</b>
&nbsp;
<b class="nc">&nbsp;        float shieldStart = 30, shieldsPerWave = 20 + difficulty*30f;</b>
<b class="nc">&nbsp;        float[] scaling = {1, 2f, 3f, 4f, 5f};</b>
&nbsp;
<b class="nc">&nbsp;        Intc createProgression = start -&gt; {</b>
&nbsp;            //main sequence
<b class="nc">&nbsp;            UnitType[] curSpecies = Structs.random(rand, fspec);</b>
<b class="nc">&nbsp;            int curTier = 0;</b>
&nbsp;
<b class="nc">&nbsp;            for(int i = start; i &lt; cap;){</b>
<b class="nc">&nbsp;                int f = i;</b>
<b class="nc">&nbsp;                int next = rand.random(8, 16) + (int)Mathf.lerp(5f, 0f, difficulty) + curTier * 4;</b>
&nbsp;
<b class="nc">&nbsp;                float shieldAmount = Math.max((i - shieldStart) * shieldsPerWave, 0);</b>
<b class="nc">&nbsp;                int space = start == 0 ? 1 : rand.random(1, 2);</b>
<b class="nc">&nbsp;                int ctier = curTier;</b>
&nbsp;
&nbsp;                //main progression
<b class="nc">&nbsp;                out.add(new SpawnGroup(curSpecies[Math.min(curTier, curSpecies.length - 1)]){{</b>
<b class="nc">&nbsp;                    unitAmount = f == start ? 1 : 6 / (int)scaling[ctier];</b>
<b class="nc">&nbsp;                    begin = f;</b>
<b class="nc">&nbsp;                    end = f + next &gt;= cap ? never : f + next;</b>
<b class="nc">&nbsp;                    max = 13;</b>
<b class="nc">&nbsp;                    unitScaling = (difficulty &lt; 0.4f ? rand.random(2.5f, 5f) : rand.random(1f, 4f)) * scaling[ctier];</b>
<b class="nc">&nbsp;                    shields = shieldAmount;</b>
<b class="nc">&nbsp;                    shieldScaling = shieldsPerWave;</b>
<b class="nc">&nbsp;                    spacing = space;</b>
&nbsp;                }});
&nbsp;
&nbsp;                //extra progression that tails out, blends in
<b class="nc">&nbsp;                out.add(new SpawnGroup(curSpecies[Math.min(curTier, curSpecies.length - 1)]){{</b>
<b class="nc">&nbsp;                    unitAmount = 3 / (int)scaling[ctier];</b>
<b class="nc">&nbsp;                    begin = f + next - 1;</b>
<b class="nc">&nbsp;                    end = f + next + rand.random(6, 10);</b>
<b class="nc">&nbsp;                    max = 6;</b>
<b class="nc">&nbsp;                    unitScaling = rand.random(2f, 4f);</b>
<b class="nc">&nbsp;                    spacing = rand.random(2, 4);</b>
<b class="nc">&nbsp;                    shields = shieldAmount/2f;</b>
<b class="nc">&nbsp;                    shieldScaling = shieldsPerWave;</b>
&nbsp;                }});
&nbsp;
<b class="nc">&nbsp;                i += next + 1;</b>
<b class="nc">&nbsp;                if(curTier &lt; 3 || (rand.chance(0.05) &amp;&amp; difficulty &gt; 0.8)){</b>
<b class="nc">&nbsp;                    curTier ++;</b>
&nbsp;                }
&nbsp;
&nbsp;                //do not spawn bosses
<b class="nc">&nbsp;                curTier = Math.min(curTier, 3);</b>
&nbsp;
&nbsp;                //small chance to switch species
<b class="nc">&nbsp;                if(rand.chance(0.3)){</b>
<b class="nc">&nbsp;                    curSpecies = Structs.random(rand, fspec);</b>
&nbsp;                }
<b class="nc">&nbsp;            }</b>
&nbsp;        };
&nbsp;
<b class="nc">&nbsp;        createProgression.get(0);</b>
&nbsp;
<b class="nc">&nbsp;        int step = 5 + rand.random(5);</b>
&nbsp;
<b class="nc">&nbsp;        while(step &lt;= cap){</b>
<b class="nc">&nbsp;            createProgression.get(step);</b>
<b class="nc">&nbsp;            step += (int)(rand.random(15, 30) * Mathf.lerp(1f, 0.5f, difficulty));</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        int bossWave = (int)(rand.random(50, 70) * Mathf.lerp(1f, 0.5f, difficulty));</b>
<b class="nc">&nbsp;        int bossSpacing = (int)(rand.random(25, 40) * Mathf.lerp(1f, 0.5f, difficulty));</b>
&nbsp;
<b class="nc">&nbsp;        int bossTier = difficulty &lt; 0.6 ? 3 : 4;</b>
&nbsp;
&nbsp;        //main boss progression
<b class="nc">&nbsp;        out.add(new SpawnGroup(Structs.random(rand, species)[bossTier]){{</b>
<b class="nc">&nbsp;            unitAmount = 1;</b>
<b class="nc">&nbsp;            begin = bossWave;</b>
<b class="nc">&nbsp;            spacing = bossSpacing;</b>
<b class="nc">&nbsp;            end = never;</b>
<b class="nc">&nbsp;            max = 16;</b>
<b class="nc">&nbsp;            unitScaling = bossSpacing;</b>
<b class="nc">&nbsp;            shieldScaling = shieldsPerWave;</b>
<b class="nc">&nbsp;            effect = StatusEffects.boss;</b>
&nbsp;        }});
&nbsp;
&nbsp;        //alt boss progression
<b class="nc">&nbsp;        out.add(new SpawnGroup(Structs.random(rand, species)[bossTier]){{</b>
<b class="nc">&nbsp;            unitAmount = 1;</b>
<b class="nc">&nbsp;            begin = bossWave + rand.random(3, 5) * bossSpacing;</b>
<b class="nc">&nbsp;            spacing = bossSpacing;</b>
<b class="nc">&nbsp;            end = never;</b>
<b class="nc">&nbsp;            max = 16;</b>
<b class="nc">&nbsp;            unitScaling = bossSpacing;</b>
<b class="nc">&nbsp;            shieldScaling = shieldsPerWave;</b>
<b class="nc">&nbsp;            effect = StatusEffects.boss;</b>
&nbsp;        }});
&nbsp;
<b class="nc">&nbsp;        int finalBossStart = 120 + rand.random(30);</b>
&nbsp;
&nbsp;        //final boss waves
<b class="nc">&nbsp;        out.add(new SpawnGroup(Structs.random(rand, species)[bossTier]){{</b>
<b class="nc">&nbsp;            unitAmount = 1;</b>
<b class="nc">&nbsp;            begin = finalBossStart;</b>
<b class="nc">&nbsp;            spacing = bossSpacing/2;</b>
<b class="nc">&nbsp;            end = never;</b>
<b class="nc">&nbsp;            unitScaling = bossSpacing;</b>
<b class="nc">&nbsp;            shields = 500;</b>
<b class="nc">&nbsp;            shieldScaling = shieldsPerWave * 4;</b>
<b class="nc">&nbsp;            effect = StatusEffects.boss;</b>
&nbsp;        }});
&nbsp;
&nbsp;        //final boss waves (alt)
<b class="nc">&nbsp;        out.add(new SpawnGroup(Structs.random(rand, species)[bossTier]){{</b>
<b class="nc">&nbsp;            unitAmount = 1;</b>
<b class="nc">&nbsp;            begin = finalBossStart + 15;</b>
<b class="nc">&nbsp;            spacing = bossSpacing/2;</b>
<b class="nc">&nbsp;            end = never;</b>
<b class="nc">&nbsp;            unitScaling = bossSpacing;</b>
<b class="nc">&nbsp;            shields = 500;</b>
<b class="nc">&nbsp;            shieldScaling = shieldsPerWave * 4;</b>
<b class="nc">&nbsp;            effect = StatusEffects.boss;</b>
&nbsp;        }});
&nbsp;
&nbsp;        //add megas to heal the base.
<b class="nc">&nbsp;        if(attack &amp;&amp; difficulty &gt;= 0.5){</b>
<b class="nc">&nbsp;            int amount = rand.random(1, 3 + (int)(difficulty*2));</b>
&nbsp;
<b class="nc">&nbsp;            for(int i = 0; i &lt; amount; i++){</b>
<b class="nc">&nbsp;                int wave = rand.random(3, 20);</b>
<b class="nc">&nbsp;                out.add(new SpawnGroup(mega){{</b>
<b class="nc">&nbsp;                    unitAmount = 1;</b>
<b class="nc">&nbsp;                    begin = wave;</b>
<b class="nc">&nbsp;                    end = wave;</b>
<b class="nc">&nbsp;                    max = 16;</b>
&nbsp;                }});
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        //shift back waves on higher difficulty for a harder start
<b class="nc">&nbsp;        int shift = Math.max((int)(difficulty * 14 - 5), 0);</b>
&nbsp;
<b class="nc">&nbsp;        for(SpawnGroup group : out){</b>
<b class="nc">&nbsp;            group.begin -= shift;</b>
<b class="nc">&nbsp;            group.end -= shift;</b>
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return out;</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-10-10 15:58</div>
</div>
</body>
</html>
